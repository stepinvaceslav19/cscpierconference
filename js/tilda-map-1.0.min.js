function t_appendGoogleMap(recid,key){if("object"==typeof google&&"object"==typeof google.maps)t_handleGoogleApiReady(recid);else if(window.googleapiiscalled)setTimeout((function(){t_appendGoogleMap(recid,key)}),1e3);else{var runfunc="window.t_handleGoogleApiReady_"+recid+' = function () { t_handleGoogleApiReady("'+recid+'") }';eval(runfunc);var langPreferences="",mapLang="",tildaMapElement=document.querySelector("#rec"+recid+" .t-map"),tildaMapElLang=tildaMapElement.getAttribute("data-map-language");tildaMapElement&&(mapLang=tildaMapElLang||""),mapLang&&2===mapLang.length&&(langPreferences="&language="+mapLang);var script=document.createElement("script");script.type="text/javascript";var mapKey=key?key.trim():"";script.src="https://maps.google.com/maps/api/js?key="+mapKey+"&callback=t_handleGoogleApiReady_"+recid+langPreferences,document.body.appendChild(script),window.googleapiiscalled=!0}}function t_handleGoogleApiReady(e){var t=document.querySelectorAll("#rec"+e+" .t-map");if(!t.length)return!1;Array.prototype.forEach.call(t,(function(t){var a=window["arMapMarkers"+e];window.isDragMap=!window.isMobile;var o=t.getAttribute("data-map-style"),n=t.getAttribute("data-map-color"),r=t.getAttribute("data-map-mode"),i=t.getAttribute("data-map-zoom"),l=a.length>0&&new google.maps.LatLng(parseFloat(a[0].lat),parseFloat(a[0].lng)),s={zoom:parseInt(i,10),center:l,scrollwheel:!1,gestureHandling:"cooperative",zoomControl:!0,styles:p(r,o,n)};function p(e,t,a){if(e&&!a)return t?JSON.parse(t):[];if(e&&a){var o=t_map_hexToHsl(a),n=2*o[1]-100,r=2*o[2]-100,i="bw_dark"===e;return[{featureType:"all",elementType:"all",stylers:[{visibility:"simplified"},{hue:a},{saturation:n},{lightness:i?-r:r},{invert_lightness:i}]}]}}var d=new google.maps.Map(t,s),c=new google.maps.LatLngBounds;function g(e){return{path:"M182.9,551.7c0,0.1,0.2,0.3,0.2,0.3S358.3,283,358.3,194.6c0-130.1-88.8-186.7-175.4-186.9   C96.3,7.9,7.5,64.5,7.5,194.6c0,88.4,175.3,357.4,175.3,357.4S182.9,551.7,182.9,551.7z M122.2,187.2c0-33.6,27.2-60.8,60.8-60.8   c33.6,0,60.8,27.2,60.8,60.8S216.5,248,182.9,248C149.4,248,122.2,220.8,122.2,187.2z",fillColor:e||"#ea4335",fillOpacity:1,strokeColor:"#5e5e5e",strokeOpacity:.5,strokeWeight:1,rotation:0,scale:.075,anchor:new google.maps.Point(180,555)}}function m(e){if(e.offset){var t=e.offset.replace(/\s/g,"").split(","),a=-1*+t[0],o=-1*+t[1];return new google.maps.Point(a,o)}return new google.maps.Point(0,48)}Array.prototype.forEach.call(a,(function(e){var t=new google.maps.LatLng(parseFloat(e.lat),parseFloat(e.lng)),a={url:e.url,size:new google.maps.Size(48,48),anchor:m(e)},o=new google.maps.Marker({position:t,visible:!e.isHidden,map:d,title:e.title,icon:e.url?a:g(e.color)});c.extend(t),(e.descr||e.title)&&v(o,e.descr,e.title,e.isOpen)}));var u=t.getAttribute("data-map-path"),y=t.getAttribute("data-map-path-color"),f=t.getAttribute("data-map-path-weight"),h;null!==u&&a.length>1&&new google.maps.Polyline({path:a.map((function(e){return new google.maps.LatLng(parseFloat(e.lat),parseFloat(e.lng))})),geodesic:!0,strokeColor:y||"#ff6d61",strokeWeight:parseInt(f)||2}).setMap(d);function v(e,t,a,o){var n=document.createElement("textarea");n.innerHTML=t;var r,i,l=[a?"<b>"+a+"</b>":"",n.textContent].filter(Boolean).join("<br>"),s=new google.maps.InfoWindow({content:l});o&&s.open(e.get("map"),e),e.addListener("click",(function(){s.open(e.get("map"),e)}))}if(a.length>1){d.fitBounds(c);var w=google.maps.event.addListener(d,"idle",(function(){(d.getZoom()>parseInt(i,10)||0===d.getZoom())&&d.setZoom(parseInt(i,10)),d.getZoom()>16&&d.setZoom(16),google.maps.event.removeListener(w)}))}google.maps.event.addDomListener(window,"resize",(function(){var e=d.getCenter(),t=parseInt(i,10);google.maps.event.trigger(d,"resize"),d.setCenter(e),a.length>0&&(d.fitBounds(c),t>0&&(d.getZoom()>t||0==d.getZoom())&&d.setZoom(t))})),t.addEventListener("displayChanged",(function(){google.maps.event.trigger(d,"resize")})),t.addEventListener("sizechange",(function(){google.maps.event.trigger(d,"resize")}))}))}function t_appendYandexMap(recid,key){if("object"==typeof ymaps&&"function"==typeof ymaps.Map)t_handleYandexApiReady(recid);else if(window.yandexmapsapiiscalled)setTimeout((function(){t_appendYandexMap(recid,key)}),1e3);else{var runfunc="window.t_handleYandexApiReady_"+recid+' = function () { return t_handleYandexApiReady("'+recid+'") }';eval(runfunc);var mapLang=t_map__getLang(recid),script=document.createElement("script");script.type="text/javascript",script.src="https://api-maps.yandex.ru/2.1/?lang="+mapLang+"&coordorder=latlong&onload=t_handleYandexApiReady_"+recid,key&&(script.src+="&apikey="+key),document.body.appendChild(script),window.yandexmapsapiiscalled=!0}}function t_handleYandexApiReady(e){var t=document.querySelectorAll("#rec"+e+" .t-map");if(!t.length)return!1;Array.prototype.forEach.call(t,(function(t){var a=window["arMapMarkers"+e],o=t.getAttribute("data-map-zoom");window.isDragMap=!window.isMobile;var n=a.length>0&&[parseFloat(a[0].lat),parseFloat(a[0].lng)],r={zoom:parseInt(o,10),center:n,scrollZoom:!1,controls:["typeSelector","zoomControl"],drag:window.isDragMap},i=new ymaps.Map(t,r),l,s=i.panes.get("events").getElement(),p={EN:"Use two fingers to move the map",RU:"Чтобы переместить карту проведите по ней двумя пальцами",FR:"Utilisez deux doigts pour déplacer la carte",DE:"Verschieben der Karte mit zwei Fingern",ES:"Para mover el mapa, utiliza dos dedos",PT:"Use dois dedos para mover o mapa",UK:"Переміщуйте карту двома пальцями",JA:"地図を移動させるには指 2 本で操作します",ZH:"使用双指移动地图",PL:"Przesuń mapę dwoma palcami",KK:"Картаны екі саусақпен жылжытыңыз",IT:"Utilizza due dita per spostare la mappa",LV:"Lai pārvietotu karti, bīdiet to ar diviem pirkstiem"},d={alignItems:"center",boxSizing:"border-box",color:"white",display:"flex",justifyContent:"center",fontSize:"22px",fontFamily:"Arial,sans-serif",opacity:"0.0",padding:"25px",textAlign:"center",transition:"opacity .3s",touchAction:"auto"};function c(e){return e.url&&e.offset?e.offset.replace(/\s/g,"").split(",").map(Number):e.url?[0,-48]:void 0}Array.prototype.forEach.call(Object.keys(d),(function(e){s.style[e]=d[e]})),i.behaviors.disable("scrollZoom"),window.isMobile&&(i.behaviors.disable("drag"),ymaps.domEvent.manager.add(s,"touchmove",(function(e){1===e.get("touches").length&&(s.style.transition="opacity .3s",s.style.background="rgba(0, 0, 0, .45)",s.textContent=p[window.browserLang]||p.EN,s.style.opacity="1")})),ymaps.domEvent.manager.add(s,"touchend",(function(){s.style.transition="opacity .8s",s.style.opacity="0"})));var g=a.map((function(e){var t=[parseFloat(e.lat),parseFloat(e.lng)],a=document.createElement("textarea");a.innerHTML=e.descr;var o,n,r=[e.title?"<b>"+e.title+"</b>":"",a.textContent].filter(Boolean).join("<br>"),i;return new ymaps.Placemark(t,{hintContent:e.title,balloonContent:r},{iconColor:e.color||void 0,iconLayout:e.url?"default#imageWithContent":void 0,iconImageHref:e.url||void 0,iconImageSize:e.url?[48,48]:void 0,iconImageOffset:c(e),visible:!e.isHidden})})),m=new ymaps.GeoObjectCollection({});g.forEach((function(e){m.add(e)})),i.geoObjects.add(m),g.forEach((function(e,t){a[t].isOpen&&e.balloon.open()}));var u=t.getAttribute("data-map-path"),y=t.getAttribute("data-map-path-color"),f=t.getAttribute("data-map-path-weight");if(a.length>1&&null!==u){var h=new ymaps.Polyline(a.map((function(e){return[parseFloat(e.lat),parseFloat(e.lng)]})),{},{strokeColor:y||"#06f",strokeWidth:parseInt(f,10)||1,strokeOpacity:.85});i.geoObjects.add(h)}var v=t.getAttribute("data-map-color"),w=t.getAttribute("data-map-mode");if(w){var b=t.querySelector('ymaps[class$="ground-pane" i] > ymaps');if(b&&(b.style.filter="bw_light"===w?"grayscale(1)":"grayscale(1) invert(1)"),v){var x=t.querySelector('ymaps[class$="ground-pane" i]'),_=document.createElement("div");if(_.style.opacity=".15",_.style.backgroundColor=v,_.style.position="absolute",_.style.top="-2500px",_.style.left="-2500px",_.style.width="5000px",_.style.height="5000px",_.style.zIndex="9999","bw_light"===w){var A=_.cloneNode();A.style.mixBlendMode="color",A.style.zIndex="9998",A.style.opacity=".5",x&&x.appendChild(A)}if("bw_dark"===w){var k=_.cloneNode();k.style.mixBlendMode="soft-light",k.style.zIndex="9998",k.style.opacity=".85",x&&x.appendChild(k)}x&&x.appendChild(_)}}var M=parseInt(o,10);a.length>1?(i.setBounds(m.getBounds(),{checkZoomRange:!0}).then((function(){M>0&&(0==i.getZoom()||i.getZoom()>M)&&i.setZoom(M)})),M>0&&(0==i.getZoom()||i.getZoom()>M)&&i.setZoom(M)):M>0&&(0==i.getZoom()||i.getZoom()>M)&&i.setZoom(M),i.events.add("sizechange",(function(){i.container.fitToViewport(),a.length>1?i.setBounds(m.getBounds(),{checkZoomRange:!0}).then((function(){M>0&&(0==i.getZoom()||i.getZoom()>M)&&i.setZoom(M)})):M>0&&(0==i.getZoom()||i.getZoom()>M)&&i.setZoom(M)}));var L=t_map__getLang(e),z=t.querySelector('[class*="copyright__link"');z&&(z.href="ru_RU"===L?"https://yandex.ru/legal/maps_termsofuse/ru/":"https://yandex.com/legal/maps_termsofuse/en/")}))}function t_map_hexToHsl(e){var t=0,a=0,o=0;4===e.length?(t="0x"+e[1]+e[1],a="0x"+e[2]+e[2],o="0x"+e[3]+e[3]):7===e.length&&(t="0x"+e[1]+e[2],a="0x"+e[3]+e[4],o="0x"+e[5]+e[6]),t/=255,a/=255,o/=255;var n=Math.min(t,a,o),r=Math.max(t,a,o),i=r-n,l=0,s=0,p=0;return l=0===i?0:r===t?(a-o)/i%6:r===a?(o-t)/i+2:(t-a)/i+4,(l=Math.round(60*l))<0&&(l+=360),p=(r+n)/2,[l,s=+(100*(s=0===i?0:i/(1-Math.abs(2*p-1)))).toFixed(1),p=+(100*p).toFixed(1)]}function t_map__getLang(e){var t="",a=document.querySelector("#rec"+e+" .t-map"),o=a.getAttribute("data-map-language");if(a)if("EN"===o)t="en_US";else t="ru_RU";return t}
