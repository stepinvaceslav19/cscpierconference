function t_throttle(fn,threshhold,scope){var last;var deferTimer;threshhold||(threshhold=250);return function(){var context=scope||this;var now=+new Date();var args=arguments;if(last&&now<last+threshhold){clearTimeout(deferTimer);deferTimer=setTimeout(function(){last=now;fn.apply(context,args)},threshhold)}else{last=now;fn.apply(context,args)}}}
function t1272_init(recId){var rec=document.getElementById('rec'+recId);if(!rec)return;t1272_bindDesktopLinks(rec);t1272_initCentering(recId);t_onFuncLoad('t_menuWidgets__init',function(){t_menuWidgets__init(recId)});t_onFuncLoad('t_menuBurger__init',function(){t_menuBurger__init(recId)});t1272_handleLangWidget(rec)}
function t1272_bindDesktopLinks(rec){var linkItems=rec.querySelectorAll('.t-menu__link-item');var subMenuLinks=rec.querySelectorAll('.t-menusub__link-item');Array.prototype.forEach.call(linkItems,function(link){link.addEventListener('click',function(e){var arrow=e.target.closest('.t-menusub__arrow');if(arrow)return;if(link.classList.contains('t-menusub__target-link')||link.classList.contains('tooltipstered')||link.classList.contains('t794__tm-link')||link.classList.contains('t966__tm-link')||link.classList.contains('t978__tm-link')){return}
t1272_hideMenuOnMobile(link,rec)})});Array.prototype.forEach.call(subMenuLinks,function(subMenuLink){subMenuLink.addEventListener('click',function(e){var arrow=e.target.closest('.t-menusub__arrow');if(arrow)return;if(subMenuLink.hasAttribute('data-menu-submenu-hook')||subMenuLink.classList.contains('t794__tm-link')||subMenuLink.hasAttribute('data-tooltip-menu-id')){return}
var burgerIcon=rec.querySelector('.t-menu-burger');if(burgerIcon)burgerIcon.classList.remove('t-menu-burger_open');t1272_hideMenuOnMobile(subMenuLink,rec)})})}
function t1272_initCentering(recId){function recalc(){t1272_centerElementInMenu(recId,{containerSelector:'.t-menu-base__maincontainer_logocenter',centerSelector:'.t-menu-base__logowrapper_center',leftSideSelector:'.t-menu-base__list_leftside',});t1272_centerElementInMenu(recId,{containerSelector:'.t-menu-base__maincontainer_logoleft',centerSelector:'.t-menu-base__leftwrapper_center',leftSideSelector:'.t-menu-base__logowrapper_left',})}
recalc();window.addEventListener('resize',t_throttle(recalc,200))}
function t1272_createMobileMenu(recid){var rec=document.getElementById('rec'+recid);if(!rec)return;t_onFuncLoad('t1272_menuBase__createMobileMenu',function(){t1272_menuBase__createMobileMenu(recid,'.t-menu-base')});var linkItems=rec.querySelectorAll('.t-menu__link-item');var submenuClassList=['t978__menu-link_hook','t978__tm-link','t966__tm-link','t794__tm-link','t-menusub__target-link',];Array.prototype.forEach.call(linkItems,function(link){link.addEventListener('click',function(){var isSubmenuHook=submenuClassList.some(function(submenuClass){return link.classList.contains(submenuClass)});if(isSubmenuHook)return;t1272_hideMenuOnMobile(link,rec)})});var wrappersLinks=rec.querySelectorAll('.t-menu-base__logo a, .t-menu-base__buttons a');Array.prototype.forEach.call(wrappersLinks,function(link){link.addEventListener('click',function(){t1272_hideMenuOnMobile(link,rec)})})}
function t1272_hideMenuOnMobile(link,rec){if(!rec||!link||window.innerWidth>=960)return!1;var url=link.href?link.href.trim():'';var menu=rec.querySelector('.t-menu-base');var burger=rec.querySelector('.tmenu-mobile');if(url&&link.matches('[href*="#"]')){if(burger)burger.classList.remove('tmenu-mobile_opened');if(menu){if(menu.classList.contains('t-menu-base_positionabsolute')||(burger&&!burger.classList.contains('tmenu-mobile_positionfixed'))){menu.style.display='none';menu.style.opacity='0'}else{t_onFuncLoad('t_menuBase__FadeOut',function(){t_menuBase__FadeOut(menu,300)})}}}}
function t1272_centerElementInMenu(recId,selectors){var rec=document.getElementById('rec'+recId);if(!rec)return;var container=rec.querySelector(selectors.containerSelector);if(!container)return;var centerBlock=container.querySelector(selectors.centerSelector);if(!centerBlock)return;var leftSideBlock=container.querySelector(selectors.leftSideSelector);if(!leftSideBlock)return;var centerWidth=centerBlock.offsetWidth||0;if(centerWidth===0)return;var gap=50;var containerPadding=parseInt(getComputedStyle(container).paddingLeft,10)||0;var sideWidth=(container.offsetWidth-containerPadding*2-gap*2-centerWidth)/2;leftSideBlock.style.flex='1 1 '+sideWidth+'px';leftSideBlock.style.maxWidth=sideWidth+'px'}
function t1272_handleLangWidget(rec){var langDropdown=rec.querySelector('.t-menu-base__langs_dropdown');if(!langDropdown)return;var langButton=rec.querySelector('.js-lang-button');if(!langButton)return;var timer;function positionLangDropdown(){if(!langDropdown)return;var dropdownRect=langDropdown.getBoundingClientRect();var viewportHeight=window.innerHeight;var spaceBelow=viewportHeight-dropdownRect.bottom;var spaceAbove=dropdownRect.top;if(spaceBelow<0&&spaceAbove>Math.abs(spaceBelow)){langDropdown.classList.add('t-menu-base__langs_dropdown_top')}else{langDropdown.classList.remove('t-menu-base__langs_dropdown_top')}}
function showLangDropdown(){clearTimeout(timer);langDropdown.classList.add('t-menu-base__langs_dropdown_show');positionLangDropdown()}
function hideLangDropdown(){timer=setTimeout(function(){langDropdown.classList.remove('t-menu-base__langs_dropdown_show')},300)}
langButton.removeEventListener('mouseenter',showLangDropdown);langButton.removeEventListener('mouseleave',hideLangDropdown);langDropdown.removeEventListener('mouseenter',showLangDropdown);langDropdown.removeEventListener('mouseleave',hideLangDropdown);langButton.addEventListener('mouseenter',showLangDropdown);langButton.addEventListener('mouseleave',hideLangDropdown);langDropdown.addEventListener('mouseenter',showLangDropdown);langDropdown.addEventListener('mouseleave',hideLangDropdown)}
function t1272_menuBase__createMobileMenu(recid,selector){var rec=document.getElementById('rec'+recid);if(!rec)return;var menu=rec.querySelector(selector);var menuMobileBurgerhook=menu?menu.getAttribute('data-mobile-burgerhook'):'';var mobileMenu=rec.querySelector('.tmenu-mobile');var mobileMenuOpenClass='tmenu-mobile_opened';var burgerOpenClass='t-menuburger-opened';if(mobileMenu){if(menu&&menu.classList.contains(selector.slice(1)+'__mobile_burgerhook')&&menuMobileBurgerhook){let mobileBurger;if(mobileMenu.querySelector('.tmenu-mobile__burger')){mobileBurger=mobileMenu.querySelector('.tmenu-mobile__burger')}else if(mobileMenu.querySelector('.t-menuburger')){mobileBurger=mobileMenu.querySelector('.t-menuburger')}
if(mobileBurger){var mobileBurgerParent=mobileBurger.parentElement;var link=document.createElement('a');link.href=menuMobileBurgerhook;if(mobileBurgerParent){link.appendChild(mobileBurger);mobileBurgerParent.appendChild(link)}}}else{const currentMode=document.querySelector('.t-records').getAttribute('data-tilda-mode');var mobileBurger=mobileMenu.querySelector('.t-menuburger');mobileMenu.addEventListener('click',function(event){if(event.target.closest('a')){return}
if(mobileMenu.classList.contains(mobileMenuOpenClass)){t_menuBase__FadeOut(menu,300);mobileMenu.classList.remove(mobileMenuOpenClass);mobileBurger.classList.remove(burgerOpenClass);mobileBurger.classList.remove('t-menu-burger_open');mobileBurger.setAttribute('aria-expanded','false');if(currentMode==='edit'){document.body.classList.remove('t-menu-base_opened')}}else{t_menuBase__fadeIn(menu,300,function(){if(menu.style.transform)menu.style.transform='';if(menu.style.opacity)menu.style.opacity=''});mobileMenu.classList.add(mobileMenuOpenClass);mobileBurger.classList.add(burgerOpenClass);mobileBurger.classList.add('t-menu-burger_open');mobileBurger.setAttribute('aria-expanded','true');if(menu.classList.contains('tmenu-mobile__menucontent_fixed')){var burgerHeight=getComputedStyle(mobileMenu).height;var burgerBorderSize=getComputedStyle(mobileMenu).borderBottom||0;menu.style.top=burgerHeight+burgerBorderSize}
if(currentMode==='edit'){document.body.classList.add('t-menu-base_opened')}}
t1272_menuBase__checkOverflow(recid,selector)})}}
if(screen.width<960){rec.addEventListener('click',function(e){if(!menu||!menu.classList.contains('tmenu-mobile__menucontent_fixed'))return;var menuLink=e.target.closest('.t-menu__link-item, .t978__submenu-link, .t978__innermenu-link, .t966__menu-link, .t-menusub__link-item, .t-btn, .t794__link');if(!menuLink)return;var submenuClassList=['t978__menu-link_hook','t978__tm-link','t966__tm-link','t794__tm-link','t-menusub__target-link',];var isSubmenuHook=submenuClassList.some(function(submenuClass){return menuLink.classList.contains(submenuClass)});if(isSubmenuHook){menu.addEventListener('menuOverflow',function(){t1272_menuBase__checkOverflow(recid,selector)});return}
t_menuBase__FadeOut(menu,300);if(mobileMenu)mobileMenu.classList.remove(mobileMenuOpenClass);if(mobileMenu)mobileBurger.classList.remove(burgerOpenClass);if(mobileMenu)mobileBurger.classList.remove('t-menu-burger_open')})}
window.addEventListener('resize',t_throttle(function(){if(window.innerWidth>960){if(menu)menu.style.opacity='';if(menu)menu.style.display='';if(menu){const customTopPosition=menu.getAttribute('data-top')||'';menu.style.top=customTopPosition}
if(mobileMenu)mobileMenu.classList.remove(mobileMenuOpenClass)}
t1272_menuBase__checkOverflow(recid,selector)},200));t_menuBase_updateMobileMenuTop(rec);window.addEventListener('resize',t_throttle(function(){t_menuBase_updateMobileMenuTop(rec)},200));function t_menuBase_updateMobileMenuTop(rec){const mobileFixedMenu=rec.querySelector('.tmenu-mobile.tmenu-mobile_positionfixed');const mobileMenu=rec.querySelector('.tmenu-mobile__menucontent_fixed');if(!mobileFixedMenu||!mobileMenu)return;if(window.innerWidth<=960){const computedStyle=window.getComputedStyle(mobileFixedMenu);const baseMobileMenuHeight=64;const height=parseFloat(computedStyle.height)||baseMobileMenuHeight;const borderBottom=parseFloat(computedStyle.borderBottomWidth)||0;const top=height+borderBottom;mobileMenu.style.setProperty('top',top+'px','important')}else{mobileMenu.style.setProperty('top','0px')}}}
function t1272_menuBase__checkOverflow(recid,selector){var rec=document.getElementById('rec'+recid);var menu=rec?rec.querySelector(selector):null;if(!menu)return;var oldMobileMenuSelector=rec.querySelector(selector+'__mobile');var burger=oldMobileMenuSelector?oldMobileMenuSelector:rec.querySelector('.tmenu-mobile');if(!burger)return;var burgerHeight=burger.offsetHeight;var windowHeight=document.documentElement.clientHeight;var menuPosition=menu.style.position||window.getComputedStyle(menu).position;var menuHeight=menu.offsetHeight;if(menuPosition==='fixed'&&menuHeight>windowHeight-burgerHeight){var availableHeight=windowHeight-burgerHeight;menu.style.overflow='auto';menu.style.maxHeight=availableHeight+'px'}}